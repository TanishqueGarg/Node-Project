<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dashboard</title>
    <!--JQuery Integration-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <!--Bootstrap Integration-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            $("#btnpostbookings").click(function () {
                let obj = {
                    type: "get",
                    url: "/infl-bookings",
                    data: {
                        txtpbemail: $("#txtpbemail").val(),
                        txtpbevent: $("#txtpbevent").val(),
                        txtpbdate: $("#txtpbdate").val(),
                        txtpbtime: $("#txtpbtime").val(),
                        txtpbcity: $("#txtpbcity").val(),
                        txtpbvenue: $("#txtpbvenue").val()
                    }
                };
                $.ajax(obj).done(function (resp) {
                    alert(resp);
                    $("#bookingsModal").modal("hide");
                }).fail(function (err) {
                    alert(err.statusText);
                });
            });

            $("#btnSettings").click(function () {
                let obj = {
                    type: "get",
                    url: "/infl-settings",
                    data: {
                        txtsettingsemail: $("#txtsettingsemail").val(),
                        txtoldpwd: $("#txtoldpwd").val(),
                        txtnewpwd: $("#txtnewpwd").val(),
                        txtconfirmpwd: $("#txtconfirmpwd").val()
                    }
                };
                $.ajax(obj).done(function (resp) {
                    alert(resp);
                    $("#settingsModal").modal("hide");
                }).fail(function (err) {
                    alert(err.statusText);
                });
            });
        });
    </script>
    <style>
        * {
            font-family: 'Times New Roman', Times, serif;
        }

        .dashboard-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-align: center;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* .card {
            width: 12rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        } */

        .card {
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0px 6px 18px rgba(0, 0, 0, 0.3);
        }

        .card img {
            border-radius: 10px 10px 0 0;
        }

        .btn-primary {
            background-color: #0066cc;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #004a99;
        }
    </style>
</head>

<body style="background-color: #e3856b;">
    <div class="container text-center">
        <h1 class="dashboard-title">Dashboard</h1>
        <br>
        <div class="row">
            <div class="col">
                <div class="card">
                    <img src="pics/infl-prof-new.webp" class="card-img-top" alt="...">
                    <div class="card-body">
                        <a href="/influencer-profile" class="btn btn-primary">Profile</a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="pics/Post-book.webp" class="card-img-top" alt="...">
                    <div class="card-body">
                        <a href="" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#bookingsModal">Post Bookings</a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="pics/infl-settings-new.jpg" class="card-img-top" alt="...">
                    <div class="card-body">
                        <a href="#" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#settingsModal">Settings</a>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <img src="pics/events-manager.webp" class="card-img-top" alt="...">
                    <div class="card-body">
                        <a href="/events-manager" class="btn btn-primary">Events Manager</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bookings Modal -->
    <div class="modal fade" id="bookingsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Booked Events/Dates</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="txtpbemail" class="form-label">Email ID</label>
                            <input type="email" class="form-control" name="txtpbemail" id="txtpbemail">
                        </div>
                        <div class="mb-3">
                            <label for="txtpbevent" class="form-label">Event Title</label>
                            <input type="text" class="form-control" name="txtpbevent" id="txtpbevent">
                        </div>
                        <div class="mb-2">
                            <label for="txtpbdate" class="form-label">Date</label>
                            <input type="date" class="form-control" name="txtpbdate" id="txtpbdate">
                        </div>
                        <div class="mb-1">
                            <label for="txtpbtime" class="form-label">Start Time</label>
                            <input type="time" class="form-control" name="txtpbtime" id="txtpbtime">
                        </div>
                        <div class="mb-2">
                            <label for="txtpbcity" class="form-label">City/Place</label>
                            <input type="text" class="form-control" name="txtpbcity" id="txtpbcity">
                        </div>
                        <div class="mb-1">
                            <label for="txtpbvenue" class="form-label">Venue</label>
                            <input type="text" class="form-control" name="txtpbvenue" id="txtpbvenue">
                        </div>
                        <center>
                            <button type="button" class="btn btn-primary" name="btnpostbookings" id="btnpostbookings">Post Event</button>
                        </center>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Settings</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="txtsettingsemail" class="form-label">Email ID</label>
                            <input type="email" class="form-control" name="txtsettingsemail" id="txtsettingsemail" disabled>
                        </div>
                        <div class="mb-3">
                            <label for="txtoldpwd" class="form-label">Old Password</label>
                            <input type="password" class="form-control" name="txtoldpwd" id="txtoldpwd">
                        </div>
                        <div class="mb-3">
                            <label for="txtnewpwd" class="form-label">New Password</label>
                            <input type="password" class="form-control" name="txtnewpwd" id="txtnewpwd">
                        </div>
                        <div class="mb-3">
                            <label for="txtconfirmpwd" class="form-label">Confirm Password</label>
                            <input type="password" class="form-control" name="txtconfirmpwd" id="txtconfirmpwd">
                        </div>
                        <center>
                            <button type="button" class="btn btn-primary" name="btnSettings" id="btnSettings">Update</button>
                        </center>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const loggedMail = localStorage.getItem("loggedmail");
        const loggedpwd = localStorage.getItem("loggedpwd");

        const emailInput = document.getElementById("txtsettingsemail");
        const emailInput2 = document.getElementById("txtpbemail");
        const pwdInput = document.getElementById("txtoldpwd");

        if (loggedMail) {
            emailInput.value = loggedMail;
            emailInput2.value = loggedMail;
            pwdInput.value = loggedpwd;
        } else {
            console.warn("loggedmail not found in localStorage.");
        }

        emailInput.readOnly = true;
        pwdInput.readOnly = true;
        emailInput2.readOnly = true;
    });
</script>

</html>
